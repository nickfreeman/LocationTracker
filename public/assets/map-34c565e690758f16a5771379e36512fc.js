function initialize(e){var o,n,t=new google.maps.Map(document.getElementById("map-canvas"),{zoom:8,center:new google.maps.LatLng(e[0][0],e[0][1]),mapTypeId:google.maps.MapTypeId.ROADMAP}),a=new google.maps.InfoWindow,r=new Color,c=0,p={};for(n=0;n<e.length;n++){e[n][2]in r.person_to_color||(r.person_to_color[e[n][2]]=r.colorlist[c],c=(c+1)%r.colorlist.length),e[n][2]in p||(p[e[n][2]]=0);var l=selecting_color(p[e[n][2]],r.person_to_color[e[n][2]]);p[e[n][2]]++,o=new google.maps.Marker({position:new google.maps.LatLng(e[n][0],e[n][1]),map:t,icon:l}),google.maps.event.addListener(o,"click",function(o,n){return function(){var r="<p>Name: "+e[n][2]+"<br />Checked In: "+e[n][3]+"</p>";a.setContent(r),a.open(t,o)}}(o,n))}}function trace_map(e){var o,n,t,a,r=e.length-1,c=new google.maps.LatLng(e[r][0],e[r][1]),p=new google.maps.Map(document.getElementById("map-canvas"),{zoom:10,center:c,mapTypeId:google.maps.MapTypeId.ROADMAP}),l=new google.maps.InfoWindow,g=[];for(a=0;a<e.length;a++)n=new google.maps.LatLng(e[a][0],e[a][1]),t=numbered_marker(a),g.push(n),o=new google.maps.Marker({position:n,map:p,icon:t}),google.maps.event.addListener(o,"click",function(o,n){return function(){var t="<p>Name: "+e[n][2]+"<br />Checked In: "+e[n][3]+"</p>";l.setContent(t),l.open(p,o)}}(o,a));var s=new google.maps.Polyline({path:g,geodesic:!0,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2});s.setMap(p)}var selecting_color=function(e,o){return"https://chart.googleapis.com/chart?chst=d_map_pin_letter&chld="+e+"|"+o+"|000000"},Color=function(){this.colorlist=["0000ff","00cd00","ff0000","ffff00","006400","458b74","838b8b","cdb79e","458b00","8b7d6b","a52a2a","8b7355","5f9ea0","7fff00","cd5b45","00cdcd","ffb90f","8b6508","bdb76b","6e8b3d","ff8c00","8b4500","9932cc","68228b","e9967a","698b69","ff1493","8b0a50","ff00ff","b03060","ff4500"],this.person_to_color={}},numbered_marker=function(e){return"https://chart.googleapis.com/chart?chst=d_map_pin_letter&chld="+e+"|FF0000|000000"};